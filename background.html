<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge;text/html">
	<title>Background smooth changing</title>
	<meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		*{
			margin:0;
			padding:0;
		}
		html,body{
			width:100%;
			height:100%;
		}
		table{
			width:100%;
			height:300px;
			background:#76f0d1;
			color:#212121;
			text-shadow: 0 0 3px #000;
		}
		section{
			display:block;
			width:100%;
			height:600px;
			background:#f1f3f5;
			padding-top:20px;
			transition: 0.5s;
			-webkit-transition: 0.5s;
		} 
		#section1.cur{
			background:url(http://www.myriptide.com/wordpress/wp-content/uploads/2016/01/chiffon6.jpg) center center no-repeat;
		}
		#section2.cur{
			background:url(http://www.myriptide.com/wordpress/wp-content/uploads/2015/12/wallhaven-280757.jpg) center center no-repeat;
		}
		#section3.cur{
			background:url(http://www.myriptide.com/wordpress/wp-content/uploads/2015/12/tgbox.jpg) center center no-repeat;
		}
		#section4.cur{
			background:url(http://www.myriptide.com/wordpress/wp-content/uploads/2015/11/22.jpg) center center no-repeat;
		}
		#section5.cur{
			background:url(http://www.myriptide.com/wordpress/wp-content/uploads/2015/12/wallhaven-280757.jpg) center center no-repeat;
		}
		.block{
			width:1200px;
			height:580px;
			margin:0 auto;
			background:#fff;
			transition: 0.5s;
			-webkit-transition: 0.5s;
		}
		.block:hover{
			box-shadow: 0 5px 10px rgba(0, 0, 0, 0.35), 0 4px 15px rgba(0, 0, 0, 0.33);
		}
		.block h1{
			text-align:center;
			display:block;
			height:580px;
			line-height:580px;
		}
	</style>
</head>
<body>
	<table>
		<tbody>
			<tr>
				<td style="vertical-align:middle;text-align:center">
					<h1>Header part</h1>
				</td>
			</tr>
		</tbody>
	</table>
	<section id="section1">
		<div class="block">
			<h1>block1</h1>
		</div>
	</section>
	<section id="section2">
		<div class="block">
			<h1>block2</h1>
		</div>
	</section>
	<section id="section3">
		<div class="block">
			<h1>block3</h1>
		</div>
	</section>
	<section id="section4">
		<div class="block">
			<h1>block4</h1>
		</div>
	</section>
	<section id="section5">
		<div class="block">
			<h1>block5</h1>
		</div>
	</section>
	<script src="http://www.funyuchina.com/statics/js/funyu/jquery-1.7.1.min.js"></script>
	<script>
	$(function(){
		var positionArr = new Array;
		var section = $('section');
		var gap = $(window).height()/4;
		console.log(gap)
		for (var i = 0; i < section.length; i++) {
			positionArr.push(section.eq(i).offset().top - gap);
		}
		console.log(positionArr)
		var Timer = null;
		$(window).on('scroll', function(){
			if (Timer) {
				clearTimeout(Timer)
			}
			Timer = setTimeout(function(){
				section.removeClass('cur');
				for (var i = 0; i < section.length; i++) {
					if ($(window).scrollTop() >= positionArr[i - 1] && $(window).scrollTop() < positionArr[i]) {
						section.eq(i - 1).addClass('cur');
					}
					if ($(window).scrollTop() > positionArr[section.length - 1]) {
						section.eq(title.length - 1).addClass('cur');
					}
				};
			}, 30)
		})
	})
	</script>
</body>
</html>